# To fix unicode symbols, run with `tmux -u`
# To copy to clipboard: tmux-yank is too unreliable. Use `scp` to download the file locally instead.

# Settings
## Use vi keybindings
set-window-option -g mode-keys vi
set-window-option -g status-keys vi
## Increase history limit
set-option -g history-limit 256000
## Start window numbering at 1
set -g base-index 1
## Address vim mode switching delay (http://superuser.com/a/252717/65504)
set-option -sg escape-time 10
## Fix nvim colors
set-option -ga terminal-overrides ',xterm:Tc'

# Keybinds
## Ctrl+b b to clear screen
bind b send-keys -R \; clear-history
## Ctrl+Shift+Left/Right to reorder tabs
bind-key -n C-S-Left swap-window -t -1\; select-window -t -1
bind-key -n C-S-Right swap-window -t +1\; select-window -t +1
## Add zt, zz and zb keybinds
bind -N 'Scroll the line to top/middle/bottom using zt/zz/zb' -T copy-mode-vi 'z' switch-client -T multi-z
bind -T multi-z 't' send -X scroll-top
bind -T multi-z 'z' send -X scroll-middle
bind -T multi-z 'b' send -X scroll-bottom
## Ctrl+b P to dump scrollback
bind-key P command-prompt -p 'save history to filename:' -I '~/tmux.history' 'capture-pane -S - ; save-buffer %1 ; delete-buffer'
## Use Vim keys to switch between panes
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
## Use Vim keys to resize panes
bind-key -r H resize-pane -L 5
bind-key -r J resize-pane -D 5
bind-key -r K resize-pane -U 5
bind-key -r L resize-pane -R 5

# Plugins (see installation at https://github.com/tmux-plugins/tpm)
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'sainnhe/tmux-fzf'
# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
