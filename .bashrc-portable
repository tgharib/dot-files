export PS1="[$SHLVL] \[\033[38;5;50m\]\u\[$(tput sgr0)\]@\h \[$(tput sgr0)\]\[\033[38;5;87m\]\W\[$(tput sgr0)\]> \[$(tput sgr0)\]"
set -o vi
shopt -s dotglob

alias ls='ls --group-directories-first --color --human-readable'
alias s='kitten ssh'
alias x='sesh connect $(sesh list -i | fzf --ansi)'
alias list-wifi='nmcli dev wifi'
alias scan-wifi='nmcli dev wifi list --rescan yes'

cheat() {
  curl cheat.sh/"$1"
}
spwd() {
  echo $(whoami)@$(hostname):$(pwd)
}
merge() {
  local ext
  [ $# -ne 2 ] && echo "Error: Need exactly two args." && return 1
  [[ ! -r $1 || ! -r $2 ]] && echo "Error: One of the files is not readable." && return 1
  if [[ ${1##*/} =~ '.' || ${2##*/} =~ '.' ]]; then
    [ ${1##*.} != ${2##*.} ] && echo "Error: Files must have same extension." && return 1
     ext=.${1##*.}
  fi
  touch tmp$ext # use empty file as the 'root' of the merge
  cp $1 backup$ext
  git merge-file $1 tmp$ext $2 # will write to file 1
  mv $1 merge$ext
  mv backup$ext $1
  rm tmp$ext
  echo "Files merged into \"merge$ext\"."
}

# use bat as default pager for man
export MANPAGER="sh -c 'col -bx | bat -l man -p'"
export MANROFFOPT='-c'

# zoxide: print the matched directory before navigating to it
export _ZO_ECHO=1
eval "$(zoxide init bash)"

# fzf: follow symbolic links, ignore hidden files and ignore gitignored files:
export FZF_DEFAULT_COMMAND='fd --type f --strip-cwd-prefix --follow --exclude .git'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
eval "$(fzf --bash)"
